--- a/drivers/mtd/nand/Makefile
+++ b/drivers/mtd/nand/Makefile
@@ -26,12 +26,17 @@ include $(TOPDIR)/config.mk
 LIB	:= $(obj)libnand.a
 
 ifdef CONFIG_CMD_NAND
+ifeq ($(ATH_DUAL_FLASH),)
 COBJS-y += nand.o
 COBJS-y += nand_base.o
 COBJS-y += nand_bbt.o
 COBJS-y += nand_ecc.o
 COBJS-y += nand_ids.o
 COBJS-y += nand_util.o
+else
+COBJS-y += nand_ids.o
+COBJS-y += nand_util.o
+endif
 
 COBJS-$(CONFIG_NAND_ATMEL) += atmel_nand.o
 COBJS-$(CONFIG_DRIVER_NAND_BFIN) += bfin_nand.o
--- a/common/cmd_nand.c
+++ b/common/cmd_nand.c
@@ -207,10 +207,14 @@ static void do_nand_status(nand_info_t *
 static void nand_print_info(int idx)
 {
 	nand_info_t *nand = &nand_info[idx];
+#ifndef CONFIG_ATH_NAND_SUPPORT
 	struct nand_chip *chip = nand->priv;
 	printf("Device %d: ", idx);
 	if (chip->numchips > 1)
 		printf("%dx ", chip->numchips);
+#else
+	printf("Device %d: ", idx);
+#endif
 	printf("%s, sector size %u KiB\n",
 	       nand->name, nand->erasesize >> 10);
 }
--- a/drivers/mtd/nand/nand_util.c
+++ b/drivers/mtd/nand/nand_util.c
@@ -98,6 +98,12 @@ int nand_erase_opts(nand_info_t *meminfo
 	 * check from erase() method, set block check method to dummy
 	 * and disable bad block table while erasing.
 	 */
+#ifdef CONFIG_ATH_NAND_SUPPORT
+	if (opts->scrub||opts->jffs2) {
+		puts("ath_nand: not support option 'scrub'&'.jffs2' yet!\n");
+		return -1;
+	}
+#else
 	if (opts->scrub) {
 		struct nand_chip *priv_nand = meminfo->priv;
 
@@ -111,6 +117,7 @@ int nand_erase_opts(nand_info_t *meminfo
 		}
 		priv_nand->bbt = NULL;
 	}
+#endif
 
 	if (erase_length < meminfo->erasesize) {
 		printf("Warning: Erase size 0x%08lx smaller than one "	\
